<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mes Outils Logiciels</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
<style>
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Roboto', sans-serif;
  background:#f5f5f5;
  color:#333;
  display: flex;
  flex-direction: column;
  align-items: center;
}
main { flex: 1; width: 100%; display:flex; flex-direction:column; align-items:center; }

header { background: linear-gradient(135deg, #4CAF50, #2E7D32); color:white; text-align:center; padding:30px 20px; width:100%; }
header h1 { margin-bottom:15px; }
nav { margin-top:10px; text-align:center; }
nav button { margin:5px; padding:10px 25px; border:none; border-radius:8px; cursor:pointer; background:#FFD700; font-weight:bold; }
nav button.active { background:#FFC107; }

section {
  display:none;
  padding:40px 20px;
  max-width:900px;
  margin:20px auto;
  background:white;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  text-align:center;
}
section h2 { color:#2E7D32; margin-bottom:15px; }
a.btn-download { display:inline-block; padding:12px 25px; background:#FFD700; color:#333; text-decoration:none; border-radius:50px; margin:10px 5px; }
a.btn-download:hover { background:#FFC107; }

.macos-help { background:#f0f9ff; border:1px solid #b6e0fe; border-radius:12px; padding:25px 20px; margin-top:20px; text-align:center; }
.macos-help ul { list-style:none; padding-left:0; display:inline-block; text-align:left; }
.macos-help li { background:white; border-left:4px solid #0077cc; padding:10px 15px; margin-bottom:10px; border-radius:8px; }

.feature-list { display:flex; flex-wrap: wrap; gap:15px; margin-top:20px; justify-content:center; }
.feature-list li {
  background: #fff176;
  padding:15px;
  width:200px;
  min-height:80px;
  border-radius:10px;
  box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
  transform: rotate(-2deg);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-weight:bold;
  list-style:none;
  transition: transform 0.2s;
}
.feature-list li:nth-child(2) { background:#ffeb3b; transform: rotate(1deg); }
.feature-list li:nth-child(3) { background:#fff59d; transform: rotate(-1deg); }
.feature-list li:nth-child(4) { background:#fff176; transform: rotate(2deg); }
.feature-list li:hover { transform: scale(1.05); }

footer { text-align:center; padding:25px; background:#e0e0e0; width:100%; }

@media(max-width:768px){
  nav { display:flex; flex-wrap:wrap; justify-content:center; }
  .feature-list { flex-direction: column; align-items:center; }
  .feature-list li { width:80%; }
}

/* === IDE Web === */
.ide-container {
  background:#1e1e1e;
  color:#eee;
  border-radius:12px;
  padding:20px;
  text-align:left;
}
.ide-container select, .ide-container button {
  margin:5px;
  padding:10px;
  border:none;
  border-radius:6px;
  font-weight:bold;
}
.ide-container select { background:#333; color:white; }
.ide-container button { background:#4CAF50; color:white; cursor:pointer; }
.ide-container button:hover { background:#45a049; }
textarea {
  width:100%;
  height:200px;
  border:none;
  border-radius:8px;
  padding:10px;
  font-family:monospace;
  font-size:15px;
  background:#252526;
  color:white;
}
pre {
  background:#111;
  color:#9ef;
  padding:10px;
  border-radius:8px;
  min-height:100px;
  overflow:auto;
}
iframe { width:100%; height:250px; border-radius:8px; border:none; background:white; }
</style>
</head>
<body>

<header>
  <h1>Mes outils logiciels gratuits</h1>
  <nav>
    <button class="tab-btn active" data-target="miniide">MiniIDE</button>
    <button class="tab-btn" data-target="planning">Planning</button>
    <button class="tab-btn" data-target="oracle">Oracle Tools</button>
    <button class="tab-btn" data-target="ideweb">IDE en ligne</button>
  </nav>
</header>

<main>
  <!-- Onglet MiniIDE -->
  <section id="miniide" style="display:block;">
    <h2>MiniIDE Python</h2>
    <p>Téléchargez MiniIDE pour macOS :</p>
    <a class="btn-download" href="https://www.dropbox.com/scl/fi/kwqcwtu599ekre9p3uth1/MiniIDE.zip?rlkey=0yc8b46bbi7vd158ibcifacte&st=qpuuit8e&dl=1" download>Télécharger MiniIDE Gratuitement</a>

    <div class="macos-help">
      <h3>🚀 Comment ouvrir MiniIDE sur macOS</h3>
      <ul>
        <li>🔒 Ouvrez <strong>Préférences Système → Sécurité et confidentialité → Sécurité</strong></li>
        <li>✅ Cliquez sur <strong>“Ouvrir quand même”</strong></li>
      </ul>
      <p>Cette étape n’est nécessaire qu’une seule fois.</p>
    </div>

    <h3>Fonctionnalités de MiniIDE</h3>
    <ul class="feature-list">
      <li>💻 Éditeur intuitif avec coloration syntaxique</li>
      <li>⚡ Exécution rapide des scripts Python</li>
      <li>📦 Gestion facile des fichiers et projets locaux</li>
      <li>🔍 Console intégrée pour visualiser erreurs et résultats</li>
    </ul>
  </section>

  <!-- Onglet Planning -->
  <section id="planning">
    <h2>Planning Tool</h2>
    <p>Téléchargez l’outil de planning pour macOS :</p>
    <a class="btn-download" href="management.zip" download>Télécharger Planning</a>

    <h3>Fonctionnalités du Planning Tool</h3>
    <ul class="feature-list">
      <li>📅 Création et gestion facile des plannings</li>
      <li>🖥️ Interface claire pour organiser les tâches</li>
      <li>🔔 Alertes et rappels automatiques</li>
      <li>💾 Export et sauvegarde automatique des données</li>
    </ul>
  </section>

  <!-- Onglet Oracle Tools -->
  <section id="oracle">
    <h2>Oracle Data Tools</h2>
    <p>Téléchargez un des 3 fichiers et connectez-vous à votre base de données Oracle :</p>
    <a class="btn-download" href="#" download>Oracle macOS</a>
    <a class="btn-download" href="#" download>Oracle Windows</a>
    <a class="btn-download" href="#" download>Oracle Linux</a>

    <h3>Fonctionnalités Oracle Data Tools</h3>
    <ul class="feature-list">
      <li>🗄️ Connexion sécurisée aux bases Oracle</li>
      <li>📊 Export et import rapide des données</li>
      <li>⚡ Optimisation des requêtes et gestion avancée</li>
      <li>🔒 Sécurité renforcée et gestion des utilisateurs</li>
    </ul>
  </section>

  <!-- 🧠 Nouvel Onglet IDE Web -->
  <section id="ideweb">
    <h2>💡 IDE en ligne multilangage</h2>
    <p>Écrivez et exécutez du code directement dans votre navigateur !</p>
    <div class="ide-container">
      <select id="lang">
        <option value="python">Python</option>
        <option value="javascript">JavaScript</option>
        <option value="html">HTML</option>
      </select>
      <button id="run">▶ Exécuter</button>
      <button id="save">💾 Télécharger</button>
      <textarea id="editor" placeholder="Écrivez votre code ici..."></textarea>
      <h3>Résultat :</h3>
      <pre id="output">⏳ En attente d'exécution...</pre>
      <iframe id="preview" style="display:none;"></iframe>
    </div>
  </section>
</main>

<script>
// --- Navigation des onglets ---
const buttons = document.querySelectorAll('.tab-btn');
const sections = document.querySelectorAll('section');
buttons.forEach(btn => {
  btn.addEventListener('click', () => {
    sections.forEach(sec => sec.style.display='none');
    buttons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.target).style.display='block';
  });
});

// --- IDE Web ---
let pyodideReady = loadPyodide();

const output = document.getElementById("output");
const preview = document.getElementById("preview");
const editor = document.getElementById("editor");

document.getElementById("run").addEventListener("click", async () => {
  const lang = document.getElementById("lang").value;
  const code = editor.value;
  output.style.display = "block";
  preview.style.display = "none";
  output.textContent = "⏳ Exécution...\n";

  try {
    if (lang === "javascript") {
      // Rediriger console.log vers la sortie
      let logs = [];
      const oldLog = console.log;
      console.log = (...args) => { logs.push(args.join(" ")); oldLog(...args); };

      let result = eval(code);
      console.log = oldLog;

      if (logs.length > 0) {
        output.textContent = logs.join("\n");
      } else if (result !== undefined) {
        output.textContent = String(result);
      } else {
        output.textContent = "✅ Code exécuté sans sortie.";
      }

    } else if (lang === "python") {
      const pyodide = await pyodideReady;

      // Capture print() en redirigeant sys.stdout
      await pyodide.runPythonAsync(`
import io, sys
sys.stdout = io.StringIO()
`);
      await pyodide.runPythonAsync(code);
      const result = await pyodide.runPythonAsync("sys.stdout.getvalue()");
      output.textContent = result.trim() || "✅ Code exécuté sans sortie.";

    } else if (lang === "html") {
      preview.style.display = "block";
      preview.srcdoc = code;
      output.style.display = "none";
    }
  } catch (err) {
    output.textContent = "❌ Erreur : " + err;
  }
});

document.getElementById("save").addEventListener("click", () => {
  const code = editor.value;
  const lang = document.getElementById("lang").value;
  const blob = new Blob([code], { type: "text/plain" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = `mon_code.${lang === "python" ? "py" : lang === "javascript" ? "js" : "html"}`;
  a.click();
});
</script>


<footer>
  <p>© 2025 Louis DUFOUR. IDE Python, outils Oracle et planning gratuits.</p>
</footer>

</body>
</html>


